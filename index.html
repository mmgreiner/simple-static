<html lang="en">
<body>
    <h1>Azure Static Web Apps auth demo</h1>
    <div>
        <a href="/.auth/login/aad">Login</a>
        <a href="/.auth/logout">Logout</a>
    </div>
    <div>
        <ul>
            <li><a href="/anonymous/">Anonymous Role page</a></li>
            <li><a href="/authenticated/">Authenticated Role page</a></li>
            <li><a href="/custom/">Custom Role page</a></li>
            <li><a href="/custom/subdir/">Custom subdir page</a></li>
        </ul>
    </div>

    <script>
        async function getUserInfo() {
            const response = await fetch('/.auth/me');
            const payload = await response.json();
            const { clientPrincipal } = payload;
            return clientPrincipal;
            }

            (async () => {
                console.log(await getUserInfo());
            })();
    </script>
</body>
</html>

